<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>fetch</title>
</head>
<body>
	<ul id="list"></ul>

	<script>


/* 
fetch
		- 비동기통신을 하는 함수 
		- 객체 {} 필요

		fetch(url주소)
			.then((res) => ~~~)  //리턴 적혀있진 않지만 중괄호 생략 구조라 리턴하는 형태(이어갈수있음)
			.then((res) => ~~~)
			   //서버에서 보낸 결과를 res 객체에 담아서 then에서 처리
		res.json() : 받은 결과를 json으로 변환(객체로 변환)
		res.text() : 받은 결과를 문자열로 변환

		json은 표준통신을 위한 객체
*/


fetch("https://my-json-server.typicode.com/st8324/repo/students")
		.then(res => res.json())
		.then(res => console.log(res));

fetch("https://my-json-server.typicode.com/st8324/repo/board")
		.then(res => res.json())
		.then(res => console.log(res));

const list = document.querySelector("#list");
fetch("https://my-json-server.typicode.com/st8324/repo/board")			//문자열을 전송받음
		.then(res => res.json())							//문자열을 객체인 배열로 만들어줌
		.then(res => {
			let html = '';
			res.forEach(b => {
				html += `
					<li>${b.num} : ${b.title}(${b.view}) - ${b.writer} </li> 
				`;
				//객체기 때문에 b 붙여야. 테이블로 하는게 깔끔하긴 한데 일단 대충.
				list.innerHTML = html;


				
			});
		});

		fetch("https://my-json-server.typicode.com/st8324/repo/board")
		.then(res => res.text())
		.then(res => console.log(res));

	</script>
	
</body>
</html>